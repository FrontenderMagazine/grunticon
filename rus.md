Grunticon

> Пиксельная графика умрет, потому что при высоком разрешении экрана один пиксель будет незаметен. «Пикселизированные» картинки будут нужны не чаще, чем мозаика из кафельных плиток. [Артемий Лебедев](http://www.artlebedev.ru/kovodstvo/sections/71/)

Векторная графика медленно, но верно приходит в веб. Распространение дисплеев с высокой плотностью пикселей («ретина» в терминологии Apple), а также общее упрощение интерфейсов и поддержка форматов векторной графики делают её не только возможной, но и весьма удобной. Работая с вектором, вам не нужно готовить несколько версий изображений для разных устройств, а ваша графика легко масштабируется и навсегда останется совместимой с дисплеями любого разрешения.

Есть несколько вариантов использования вектора в браузере: при помощи веб-шрифтов, используя библиотеку [raphael.js](http://raphaeljs.com/), которая позволяет создавать векторную графику, используя Javascript, применяя для этого SVG или VML в зависимости от поддержки этих технологий браузером, либо используя SVG per se: вставляя в разметку при помощи тега <img>, используя как фоны в CSS или непосредственно выводят в html-коде.

У каждого из вариантов есть свои преимущества и недостатки. Веб-шрифты, к примеру, нельзя использовать в качестве фонов (background-image). Существенным минусом SVG на наш взгляд является недостаточная поддержка этого формата браузерами: Internet Explorer версии ниже 9.0 и Android Browser ниже версии 3.0 не умеют отображать графику в этом формате. Пренебречь этими браузерами возможно не всегда, поэтому приходится задумываться о деградации графики до растровой.

Библиотека [grunticon](https://github.com/filamentgroup/grunticon) призвана решить проблему обратной совместимости и генерации растровой графики для устаревших браузеров. Grunticon — это задача для [Grunt.js](http://gruntjs.com/), которая берёт папку с векторной графикой и на её основании создаёт 3 CSS-файла: основной файл с svg-файлами в виде data:url фонов, аналогичный файл с data:url фонами в формате png, а также файл для браузеров, не поддерживающих data:url, где в виде фонов прописаны отдельные png-файлы. Естественно, grunticon создаёт и сами png-файлы, для чего использует [PhantomJS](http://phantomjs.org/) — безинтерфейсный Webkit, который и отвечает за конвертацию векторной графики в растровую.

Утилита так же создаёт небольшой javascript-файл, который определяет возможности браузеры и подключает тот или иной CSS-файл. Его содержимое (по умолчанию grunticon.loader.txt) необходимо добавить в шапку документа, либо во внешний js-файл (не забыв оставить в шапке содержимое тега `<noscript>`).

Для установки grunticon вам потребуется установленный [Grunt](http://gruntjs.com/getting-started), который в свою очередь требуют [Nodejs](http://nodejs.org/). Если эти требования удовлетворены, выполните команду `npm install grunt-grunticon`. Она установит необходимые компоненты, после чего в файл с настройками задач Gruntfile.js нужно добавить строку:

```javascript
grunt.loadNpmTasks('grunt-grunticon');
```

а также настроить grunticon — указать, в какой папке искать исходные векторные файлы, в какую папку сохранять CSS и PNG-файлы, какой префикс использовать в названии классов (по умолчанию `icon-`, имена селекторов получают вид `префикс-имяфайла`). Полный список настроек можно найти в [тестовом Gruntfile.js](https://github.com/filamentgroup/grunticon/blob/master/Gruntfile.js) на Github. 

Если grunticon — единственная задача Grunt, которую вы используете, можно установить её задачей по умолчанию, добавив строку: `grunt.registerTask('default', 'grunticon');`

После настройки необходимо в папке проекта запустить команду `grunt`, которая создаст или перезапишет все необходимые файлы, предварительно оптимизировав svg-файлы  утилитой [svgo](https://github.com/svg/svgo).

дописать: 
grunticon+bem-именование
grunticon vs спрайты

Существует [версия grunticon для SASS](https://github.com/zigotica/grunticon/), которая, правда, не обновлялась уже почти год и не совместима с текущей версией grunt.

Не так давно grunticon стал доступен [в виде сайта Grumpicon](http://www.grumpicon.com/), который представляет собой дрэг-н-дроп интерфейс к утилите для тех, кто не готов вникать в тонкости настройки задач и работе с командной строкой. 